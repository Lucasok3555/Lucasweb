<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <title>Criar Arquivo .torrent</title>
  <style>
    body { font-family: Arial; margin: 40px; }
    input, button { margin-top: 10px; display: block; }
  </style>
</head>
<body>
  <h1>Gerador de Arquivo .torrent</h1>
  <input type="file" id="fileInput" />
  <button onclick="criarTorrent()">Criar .torrent</button>
  <a id="downloadLink" style="display:none" download="arquivo.torrent">Baixar .torrent</a>

  <script src="https://cdn.jsdelivr.net/npm/create-torrent@5.0.0/browser.js"></script>
  <script>
    function criarTorrent() {
      const input = document.getElementById('fileInput');
      const file = input.files[0];
      if (!file) return alert("Escolha um arquivo!");

      createTorrent(file, (err, torrent) => {
        if (err) return console.error(err);

        const blob = new Blob([torrent], { type: 'application/x-bittorrent' });
        const url = URL.createObjectURL(blob);

        const a = document.getElementById('downloadLink');
        a.href = url;
        a.style.display = 'block';
        a.click(); // faz o download autom√°tico
      });
    }
  </script>
</body>
</html>
